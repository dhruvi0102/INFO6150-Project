{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\dhruv\\\\OneDrive\\\\Documents\\\\GitHub\\\\INFO6150-Project\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useCallback,useContext,useRef}from\"react\";import{useParams,useHistory}from\"react-router-dom\";import gsap from\"gsap\";import axios from\"../../axios\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import PreLoader from\"../../shared/components/PreLoader/PreLoader\";import RentForm from\"../components/RentForm\";import Layout from\"../../shared/components/Layout/Layout\";import{AuthContext}from\"../../shared/contexts/AuthContext\";import{MdCastle,MdBeachAccess,MdCabin}from\"react-icons/md\";import{GiTreehouse}from\"react-icons/gi\";var DetailRentPage=function DetailRentPage(props){var _useContext=useContext(AuthContext),userId=_useContext.userId;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),selected=_useState4[0],setSelected=_useState4[1];var tl=useRef();var title=useRef(null);var line=useRef(null);var history=useHistory();var RentalId=useParams().id;useEffect(function(){tl.current=gsap.timeline();tl.current.from(title,1.5,{scale:0.5,opacity:0}).from(line,2,{width:0},0.5);},[]);//Fetch single Rental element\nuseEffect(function(){setIsLoading(true);axios.get(\"/fleet/\".concat(RentalId)).then(function(res){setIsLoading(false);setSelected(res.data.Rental);}).catch(function(err){setIsLoading(false);console.log(err);});},[RentalId]);//Make an order\nvar onOrderHandler=useCallback(function(order){setIsLoading(true);axios.post(\"/orders\",order,{\"Content-Type\":\"application/json\"}).then(function(res){setIsLoading(false);history.push(\"/my-orders/\".concat(userId));}).catch(function(err){setIsLoading(false);toast.error(\"Account is Suspended please contact the Administrator\");console.log(\"Custom Error \",err.data);});},[history,userId]);var fixedPrice;if(selected.price){fixedPrice=selected.price.toFixed(2);}var image;if(selected.image){image=selected.image;}var styleme={paddingtop:10};return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(\"h1\",{ref:function ref(el){return title=el;},className:\"home-title\"},\"Rent a place, it has never been easier\",\" \"),/*#__PURE__*/React.createElement(\"p\",{ref:function ref(el){return line=el;},className:\"line\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"rent-page-wrapper\"},isLoading?/*#__PURE__*/React.createElement(PreLoader,null):/*#__PURE__*/React.createElement(\"div\",{className:\"item-rental\",style:styleme},/*#__PURE__*/React.createElement(\"p\",{className:\"name\"},selected.name,/*#__PURE__*/React.createElement(\"span\",null,\" \",selected.model)),/*#__PURE__*/React.createElement(\"div\",{className:\"options\"},/*#__PURE__*/React.createElement(\"p\",{style:{textTransform:\"capitalize\"},className:\"rental\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(MdCabin,null)),\" \",selected.RentalType),/*#__PURE__*/React.createElement(\"p\",{className:\"rental-type\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(MdBeachAccess,null)),\" \",selected.seats),/*#__PURE__*/React.createElement(\"p\",{className:\"rental-type\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(MdCastle,null)),\" \",selected.gears),/*#__PURE__*/React.createElement(\"p\",{className:\"rental-type\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(GiTreehouse,null)),\" \",selected.clima?\"yes\":\"no\")),/*#__PURE__*/React.createElement(\"img\",{src:image,alt:\"Rental\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"price\"},\"Price - \\u20AC \",/*#__PURE__*/React.createElement(\"span\",null,fixedPrice),\" /For a Day\",\" \")),/*#__PURE__*/React.createElement(RentForm,{RentalId:RentalId,onOrderHandler:onOrderHandler})),/*#__PURE__*/React.createElement(ToastContainer,null));};export default DetailRentPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useContext","useRef","useParams","useHistory","gsap","axios","ToastContainer","toast","PreLoader","RentForm","Layout","AuthContext","MdCastle","MdBeachAccess","MdCabin","GiTreehouse","DetailRentPage","props","userId","isLoading","setIsLoading","selected","setSelected","tl","title","line","history","RentalId","id","current","timeline","from","scale","opacity","width","get","then","res","data","Rental","catch","err","console","log","onOrderHandler","order","post","push","error","fixedPrice","price","toFixed","image","styleme","paddingtop","el","name","model","textTransform","RentalType","seats","gears","clima"],"sources":["C:/Users/dhruv/OneDrive/Documents/GitHub/INFO6150-Project/Client/src/Rent/pages/RentPage.jsx"],"sourcesContent":["import React, {\n  useState,\n  useEffect,\n  useCallback,\n  useContext,\n  useRef,\n} from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport gsap from \"gsap\";\nimport axios from \"../../axios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport PreLoader from \"../../shared/components/PreLoader/PreLoader\";\nimport RentForm from \"../components/RentForm\";\nimport Layout from \"../../shared/components/Layout/Layout\";\nimport { AuthContext } from \"../../shared/contexts/AuthContext\";\nimport { MdCastle, MdBeachAccess,MdCabin } from \"react-icons/md\";\nimport { GiTreehouse } from \"react-icons/gi\";\n\nconst DetailRentPage = (props) => {\n  const { userId } = useContext(AuthContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selected, setSelected] = useState({});\n  let tl = useRef();\n  let title = useRef(null);\n  let line = useRef(null);\n  const history = useHistory();\n  const RentalId = useParams().id;\n\n  useEffect(() => {\n    tl.current = gsap.timeline();\n    tl.current\n      .from(title, 1.5, { scale: 0.5, opacity: 0 })\n      .from(line, 2, { width: 0 }, 0.5);\n  }, []);\n\n  //Fetch single Rental element\n  useEffect(() => {\n    setIsLoading(true);\n    axios\n      .get(`/fleet/${RentalId}`)\n      .then((res) => {\n        setIsLoading(false);\n        setSelected(res.data.Rental);\n      })\n      .catch((err) => {\n        setIsLoading(false);\n        console.log(err);\n      });\n  }, [RentalId]);\n\n  //Make an order\n  const onOrderHandler = useCallback(\n    (order) => {\n      setIsLoading(true);\n      axios\n        .post(\"/orders\", order, { \"Content-Type\": \"application/json\" })\n        .then((res) => {\n          setIsLoading(false);\n          history.push(`/my-orders/${userId}`);\n        })\n        .catch((err) => {\n          setIsLoading(false);\n          toast.error(\"Account is Suspended please contact the Administrator\");\n          console.log(\"Custom Error \", err.data);\n        });\n    },\n    [history, userId]\n  );\n\n  let fixedPrice;\n  if (selected.price) {\n    fixedPrice = selected.price.toFixed(2);\n  }\n\n  let image;\n  if (selected.image) {\n    image = selected.image;\n  }\n  const styleme = {\n    \n    paddingtop: 10,\n  };\n\n  return (\n    <Layout>\n      <h1 ref={(el) => (title = el)} className=\"home-title\">\n        Rent a place, it has never been easier{\" \"}\n      </h1>\n      <p ref={(el) => (line = el)} className=\"line\" />\n      <div className=\"rent-page-wrapper\">\n        {isLoading ? (\n          <PreLoader />\n        ) : (\n          <div className=\"item-rental\" style={styleme}>\n            <p className=\"name\">\n              {selected.name}\n              <span> {selected.model}</span>\n            </p>\n            <div className=\"options\">\n              <p style={{ textTransform: \"capitalize\" }} className=\"rental\">\n                <span>\n                  <MdCabin />\n                </span>{\" \"}\n                {selected.RentalType}\n              </p>\n              <p className=\"rental-type\">\n                <span>\n                  <MdBeachAccess />\n                </span>{\" \"}\n                {selected.seats}\n              </p>\n              <p className=\"rental-type\">\n                <span>\n                  <MdCastle />\n                </span>{\" \"}\n                {selected.gears}\n              </p>\n              <p className=\"rental-type\">\n                <span>\n                  <GiTreehouse />\n                </span>{\" \"}\n                {selected.clima ? \"yes\" : \"no\"}\n              </p>\n            </div>\n            <img src={image} alt=\"Rental\" />\n            <p className=\"price\">\n              Price - â‚¬ <span>{fixedPrice}</span> /For a Day{\" \"}\n            </p>\n          </div>\n        )}\n        <RentForm RentalId={RentalId} onOrderHandler={onOrderHandler} />\n      </div>\n      <ToastContainer />\n    </Layout>\n  );\n};\n\nexport default DetailRentPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"D:\\\\Northeastern\\\\Semester 3\\\\Web design\\\\web-project-master\\\\web-project-master\\\\client\\\\src\\\\User\\\\pages\\\\Auth.jsx\";\nimport React, { useState, useCallback, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { FaRegArrowAltCircleLeft } from \"react-icons/fa\";\nimport axios from \"../../axios\";\nimport Login from \"../components/Login\";\nimport Register from \"../components/Register\";\nimport { AuthContext } from \"../../shared/contexts/AuthContext\";\nimport Layout from \"../../shared/components/Layout/Layout\";\nconst Auth = () => {\n  const [toggleState, setToggleState] = useState(false);\n  const {\n    login\n  } = useContext(AuthContext);\n  const [isLoading, setIsLoadin] = useState(false);\n  const history = useHistory();\n\n  //Register new user post new user data to db\n  const onRegisterHandler = useCallback(user => {\n    setIsLoadin(true);\n    axios.post(\"/users/register\", user, {\n      \"Content-Type\": \"application/json\"\n    }).then(res => {\n      setIsLoadin(false);\n      login(res.data.userId, res.data.token, res.data.name);\n      history.push(\"/\");\n    }).catch(err => {\n      setIsLoadin(false);\n      console.log(err);\n    });\n  }, [history, login]);\n\n  //Login user - post data to db\n  const onLoginHandler = useCallback(user => {\n    setIsLoadin(true);\n    axios.post(\"/users/login\", user, {\n      \"Content-Type\": \"application/json\"\n    }).then(res => {\n      setIsLoadin(false);\n      login(res.data.userId, res.data.token, res.data.name);\n      history.push(\"/\");\n    }).catch(err => {\n      setIsLoadin(false);\n      console.log(err);\n    });\n  }, [history, login]);\n  const toggleAuth = () => {\n    setToggleState(prevState => !prevState);\n  };\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-auth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"settings\",\n    onClick: toggleAuth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FaRegArrowAltCircleLeft, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, toggleState ? \"Move to Log-in\" : \"Move to Registration\")), toggleState ? /*#__PURE__*/React.createElement(Register, {\n    onRegisterHandler: onRegisterHandler,\n    isLoading: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(Login, {\n    onLoginHandler: onLoginHandler,\n    isLoading: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  })));\n};\nexport default Auth;","map":{"version":3,"names":["React","useState","useCallback","useContext","useHistory","FaRegArrowAltCircleLeft","axios","Login","Register","AuthContext","Layout","Auth","toggleState","setToggleState","login","isLoading","setIsLoadin","history","onRegisterHandler","user","post","then","res","data","userId","token","name","push","catch","err","console","log","onLoginHandler","toggleAuth","prevState"],"sources":["D:/Northeastern/Semester 3/Web design/web-project-master/web-project-master/client/src/User/pages/Auth.jsx"],"sourcesContent":["import React, { useState, useCallback, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { FaRegArrowAltCircleLeft } from \"react-icons/fa\";\nimport axios from \"../../axios\";\n\nimport Login from \"../components/Login\";\nimport Register from \"../components/Register\";\nimport { AuthContext } from \"../../shared/contexts/AuthContext\";\nimport Layout from \"../../shared/components/Layout/Layout\";\nconst Auth = () => {\n  const [toggleState, setToggleState] = useState(false);\n  const { login } = useContext(AuthContext);\n  const [isLoading, setIsLoadin] = useState(false);\n  const history = useHistory();\n\n  //Register new user post new user data to db\n  const onRegisterHandler = useCallback(\n    (user) => {\n      setIsLoadin(true);\n      axios\n        .post(\"/users/register\", user, { \"Content-Type\": \"application/json\" })\n        .then((res) => {\n          setIsLoadin(false);\n          login(res.data.userId, res.data.token, res.data.name);\n          history.push(\"/\");\n        })\n        .catch((err) => {\n          setIsLoadin(false);\n          console.log(err);\n        });\n    },\n    [history, login]\n  );\n\n  //Login user - post data to db\n  const onLoginHandler = useCallback(\n    (user) => {\n      setIsLoadin(true);\n      axios\n        .post(\"/users/login\", user, { \"Content-Type\": \"application/json\" })\n        .then((res) => {\n          setIsLoadin(false);\n          login(res.data.userId, res.data.token, res.data.name);\n          history.push(\"/\");\n        })\n        .catch((err) => {\n          setIsLoadin(false);\n          console.log(err);\n        });\n    },\n    [history, login]\n  );\n\n  const toggleAuth = () => {\n    setToggleState((prevState) => !prevState);\n  };\n\n  return (\n    <Layout>\n      <div className=\"main-auth\">\n        <div className=\"settings\" onClick={toggleAuth}>\n          <FaRegArrowAltCircleLeft />\n          <span>{toggleState ? \"Move to Log-in\" : \"Move to Registration\"}</span>\n        </div>\n        {toggleState ? (\n          <Register\n            onRegisterHandler={onRegisterHandler}\n            isLoading={isLoading}\n          />\n        ) : (\n          <Login onLoginHandler={onLoginHandler} isLoading={isLoading} />\n        )}\n      </div>\n    </Layout>\n  );\n};\n\nexport default Auth;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
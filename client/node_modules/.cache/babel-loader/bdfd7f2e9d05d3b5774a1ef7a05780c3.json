{"ast":null,"code":"var _jsxFileName = \"D:\\\\Northeastern\\\\Semester 3\\\\Web design\\\\web-project-master\\\\web-project-master\\\\client\\\\src\\\\Rent\\\\pages\\\\RentPage.jsx\";\nimport React, { useState, useEffect, useCallback, useContext, useRef } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport gsap from \"gsap\";\nimport axios from \"../../axios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport PreLoader from \"../../shared/components/PreLoader/PreLoader\";\nimport RentForm from \"../components/RentForm\";\nimport Layout from \"../../shared/components/Layout/Layout\";\nimport { AuthContext } from \"../../shared/contexts/AuthContext\";\nimport { MdDirectionsCar, MdAirlineSeatReclineNormal } from \"react-icons/md\";\nimport { GoGear } from \"react-icons/go\";\nimport { IoMdSnow } from \"react-icons/io\";\nconst DetailRentPage = props => {\n  const {\n    userId\n  } = useContext(AuthContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selected, setSelected] = useState({});\n  let tl = useRef();\n  let title = useRef(null);\n  let line = useRef(null);\n  const history = useHistory();\n  const carId = useParams().id;\n  useEffect(() => {\n    tl.current = gsap.timeline();\n    tl.current.from(title, 1.5, {\n      scale: 0.5,\n      opacity: 0\n    }).from(line, 2, {\n      width: 0\n    }, 0.5);\n  }, []);\n\n  //Fetch single car element\n  useEffect(() => {\n    setIsLoading(true);\n    axios.get(`/fleet/${carId}`).then(res => {\n      setIsLoading(false);\n      setSelected(res.data.car);\n    }).catch(err => {\n      setIsLoading(false);\n      console.log(err);\n    });\n  }, [carId]);\n\n  //Make an order\n  const onOrderHandler = useCallback(order => {\n    setIsLoading(true);\n    axios.post(\"/orders\", order, {\n      \"Content-Type\": \"application/json\"\n    }).then(res => {\n      setIsLoading(false);\n      history.push(`/my-orders/${userId}`);\n    }).catch(err => {\n      setIsLoading(false);\n      toast.error(\"Account is Suspended please contact the Administrator\");\n      console.log(\"Custom Error \", err.data);\n    });\n  }, [history, userId]);\n  let fixedPrice;\n  if (selected.price) {\n    fixedPrice = selected.price.toFixed(2);\n  }\n  let image;\n  if (selected.image) {\n    image = selected.image;\n  }\n  const styleme = {\n    paddingtop: 10\n  };\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    ref: el => title = el,\n    className: \"home-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, \"Rent a car, it has never been easier\", \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    ref: el => line = el,\n    className: \"line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rent-page-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, isLoading ? /*#__PURE__*/React.createElement(PreLoader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"item-cars\",\n    style: styleme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, selected.name, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, \" \", selected.model)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textTransform: \"capitalize\"\n    },\n    className: \"car-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MdDirectionsCar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 19\n    }\n  })), \" \", selected.carType), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"car-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MdAirlineSeatReclineNormal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  })), \" \", selected.seats), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"car-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(GoGear, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }\n  })), \" \", selected.gears), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"car-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IoMdSnow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 19\n    }\n  })), \" \", selected.clima ? \"yes\" : \"no\")), /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: \"car\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, \"Price - \\u20AC \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 25\n    }\n  }, fixedPrice), \" /For a Day\", \" \")), /*#__PURE__*/React.createElement(RentForm, {\n    carId: carId,\n    onOrderHandler: onOrderHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }));\n};\nexport default DetailRentPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useContext","useRef","useParams","useHistory","gsap","axios","ToastContainer","toast","PreLoader","RentForm","Layout","AuthContext","MdDirectionsCar","MdAirlineSeatReclineNormal","GoGear","IoMdSnow","DetailRentPage","props","userId","isLoading","setIsLoading","selected","setSelected","tl","title","line","history","carId","id","current","timeline","from","scale","opacity","width","get","then","res","data","car","catch","err","console","log","onOrderHandler","order","post","push","error","fixedPrice","price","toFixed","image","styleme","paddingtop","el","name","model","textTransform","carType","seats","gears","clima"],"sources":["D:/Northeastern/Semester 3/Web design/web-project-master/web-project-master/client/src/Rent/pages/RentPage.jsx"],"sourcesContent":["import React, {\n  useState,\n  useEffect,\n  useCallback,\n  useContext,\n  useRef,\n} from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport gsap from \"gsap\";\nimport axios from \"../../axios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport PreLoader from \"../../shared/components/PreLoader/PreLoader\";\nimport RentForm from \"../components/RentForm\";\nimport Layout from \"../../shared/components/Layout/Layout\";\nimport { AuthContext } from \"../../shared/contexts/AuthContext\";\nimport { MdDirectionsCar, MdAirlineSeatReclineNormal } from \"react-icons/md\";\nimport { GoGear } from \"react-icons/go\";\nimport { IoMdSnow } from \"react-icons/io\";\n\nconst DetailRentPage = (props) => {\n  const { userId } = useContext(AuthContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selected, setSelected] = useState({});\n  let tl = useRef();\n  let title = useRef(null);\n  let line = useRef(null);\n  const history = useHistory();\n  const carId = useParams().id;\n\n  useEffect(() => {\n    tl.current = gsap.timeline();\n    tl.current\n      .from(title, 1.5, { scale: 0.5, opacity: 0 })\n      .from(line, 2, { width: 0 }, 0.5);\n  }, []);\n\n  //Fetch single car element\n  useEffect(() => {\n    setIsLoading(true);\n    axios\n      .get(`/fleet/${carId}`)\n      .then((res) => {\n        setIsLoading(false);\n        setSelected(res.data.car);\n      })\n      .catch((err) => {\n        setIsLoading(false);\n        console.log(err);\n      });\n  }, [carId]);\n\n  //Make an order\n  const onOrderHandler = useCallback(\n    (order) => {\n      setIsLoading(true);\n      axios\n        .post(\"/orders\", order, { \"Content-Type\": \"application/json\" })\n        .then((res) => {\n          setIsLoading(false);\n          history.push(`/my-orders/${userId}`);\n        })\n        .catch((err) => {\n          setIsLoading(false);\n          toast.error(\"Account is Suspended please contact the Administrator\");\n          console.log(\"Custom Error \", err.data);\n        });\n    },\n    [history, userId]\n  );\n\n  let fixedPrice;\n  if (selected.price) {\n    fixedPrice = selected.price.toFixed(2);\n  }\n\n  let image;\n  if (selected.image) {\n    image = selected.image;\n  }\n  const styleme = {\n    \n    paddingtop: 10,\n  };\n\n  return (\n    <Layout>\n      <h1 ref={(el) => (title = el)} className=\"home-title\">\n        Rent a car, it has never been easier{\" \"}\n      </h1>\n      <p ref={(el) => (line = el)} className=\"line\" />\n      <div className=\"rent-page-wrapper\">\n        {isLoading ? (\n          <PreLoader />\n        ) : (\n          <div className=\"item-cars\" style={styleme}>\n            <p className=\"name\">\n              {selected.name}\n              <span> {selected.model}</span>\n            </p>\n            <div className=\"options\">\n              <p style={{ textTransform: \"capitalize\" }} className=\"car-type\">\n                <span>\n                  <MdDirectionsCar />\n                </span>{\" \"}\n                {selected.carType}\n              </p>\n              <p className=\"car-type\">\n                <span>\n                  <MdAirlineSeatReclineNormal />\n                </span>{\" \"}\n                {selected.seats}\n              </p>\n              <p className=\"car-type\">\n                <span>\n                  <GoGear />\n                </span>{\" \"}\n                {selected.gears}\n              </p>\n              <p className=\"car-type\">\n                <span>\n                  <IoMdSnow />\n                </span>{\" \"}\n                {selected.clima ? \"yes\" : \"no\"}\n              </p>\n            </div>\n            <img src={image} alt=\"car\" />\n            <p className=\"price\">\n              Price - € <span>{fixedPrice}</span> /For a Day{\" \"}\n            </p>\n          </div>\n        )}\n        <RentForm carId={carId} onOrderHandler={onOrderHandler} />\n      </div>\n      <ToastContainer />\n    </Layout>\n  );\n};\n\nexport default DetailRentPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}